{% load staticfiles %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>HTML5 -- 贪吃翔</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="keywords" content="HTML5 经典 小游戏 贪吃蛇">
        <meta name="description" content="">

        <link href="{% static 'eatshit/css/mix_snake.css' %}" rel="stylesheet">

        <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
            <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
    </head>
    <body>
        <div class="warp">
            <div id="header" class="header">
                <div class="logo"><span>贪吃翔</span></div>

                <div id="scorePanel" class="scorePanel">
                    <!-- <strong>最高分</strong> -->
                    <div id="highestScore" class="highestScore">0</div>
                    <!-- <strong>分数</strong> -->
                    <span><img id="shitLogo" class="shitLogo" src="" /></span><span id="score" class="score">0</span><span>坨翔翔</span>
                </div>
            </div>

            <div id="gamePanel" class="gamePanel" tabindex="0">
                <canvas id="myCanvas" class="myCanvas" width="340" height="340">
                    Your browser does not support the canvas element.
                </canvas>
            </div>

            <div id="controlPanel">
                <select id="speed" class="speed">
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                    <option>6</option>
                    <option>7</option>
                    <option>8</option>
                    <option>9</option>
                </select>
                <button id="start" onclick="startGame(this)">开始</button>
                <button id="control" onclick="control(this)" disabled="true">暂停</button>
            </div>

            <div id="foter" class="footer">
                <p>Power by HereToy</p>
            </div>

            <div id="hidden" class="hidden">
                {% ifequal photo_data.image '' %}
                    <img id="photo" src="{% static 'eatshit/img/photo/wq.png' %}" />
                {% else %}
                    <img id="photo" src="{{ photo_data.image }}" />
                {% endifequal %}
                <img id="shit" src="" />
            </div>
        </div>

        <script src="{% static 'eatshit/js/hammer.min.js' %}"></script>
        <script src="{% static 'eatshit/js/mix_snake.js' %}"></script>
        <script language="JavaScript">
            var shitNum = 4,
                shitId = Math.floor(Math.random() * shitNum),
                shitUrl = "/static/" + "eatshit/img/shit/" + String(shitId) + ".jpg";
            document.getElementById("shit").src = shitUrl;
            document.getElementById("shitLogo").src = shitUrl;

            var gameMrg = new Ga1900("myCanvas");
            function startGame(startBtn){
                /*var step = document.getElementById("speed").value;*/
                var step = 5;
                gameMrg.startGame(step);
                document.getElementById("gamePanel").focus();
                pause = true;
                var btn = document.getElementById("control");
                btn.innerHTML = "暂停";
                btn.disabled = false;
            }

            var pause = true;
            function control(btn){
                if (pause) {
                    gameMrg.pause();
                    btn.innerHTML = "继续";
                } else {
                    gameMrg.goon();
                    btn.innerHTML = "暂停";
                    document.getElementById("gamePanel").focus();
                }
                pause = !pause;
            }
        </script>
    </body>
</html>
